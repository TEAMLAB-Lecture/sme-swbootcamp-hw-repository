<!DOCTYPE html>
<html>

<style>
html{
    background-color: darkkhaki;
}

div{
    border: whitesmoke;
    background-color: olive;
    margin-left: 50px;
    margin-right: 50px;
}

#inputpanel{
    width: 400px;

}

button{
    background-color: bisque;
    
}

.list{
    background-color: beige;

}

#allt{
    background-color: bisque;
    color: black;
}
</style>


    <head>
       <meta charset="utf-8">
       <title>To do List</title>  

       <script>

            var i = 0;
            
            
            function correctioncheck(){
                for(var i=0;i<500;i++){
                   if(document.getElementsByName("checkBox")[i].checked == true){
                       document.getElementsByName("deletediv")[i].remove();
                       var correctionvalue = prompt("수정할 문구를 입력해주세요");            
                document.getElementById('here').innerHTML = document.getElementById('here').innerHTML+"<div class='list' name='deletediv'><input type='checkbox' name='checkBox' id=A"+i+">" + correctionvalue + "<button onclick='correctioncheck(); ' >수정</button> <button onclick='deletecheck()'>삭제</button></div>";  
                   }
                   

                }

            }
              

                function correctwritelist(){
                //     var correctionvalue = prompt("수정할 문구를 입력해주세요");            
                // document.getElementById('here').innerHTML = document.getElementById('here').innerHTML+"<div class='list' name='deletediv'><input type='checkbox' name='checkBox' id=A"+i+">" + correctionvalue + "<button onclick='correction()' >수정</button> <button onclick='deletecheck()'>삭제</button></div>";  
                     i = i+1;
            }
            // function correction(){
            //     const corectionvalue = prompt("수정할 문구를 입력해주세요");
            //     const correctlist = "<div class='list' name='deletediv'><input type='checkbox' name='checkBox' id=A"+i+">" + corectionvalue + "<button onclick='correction()' >수정</button> <button>삭제</button></div>";
            //     var check_stat = document.getElementById('checkBox')[i].checked;
            //     for(var i=0;i<500;i++){
            //         if(check_stat == true){
            //             document.getElementById("A"+i).innerHTML = correctlist;
            //         }
                    

            //      }
            // }
            // function correction(){
                  
            //     const corectionvalue = prompt("수정할 문구를 입력해주세요");
            //     const correctid = document.getElementById();
            //     const correctlist = "<div class='list' name='deletediv'><input type='checkbox' name='checkBox' id=A"+i+">" + corectionvalue + "<button onclick='correction()' >수정</button> <button>삭제</button></div>";
            //      document.getElementById(correctid).innerHTML = correctlist;
            //  }
            function deleteall(){
                const mothernode = document.querySelector("#here");
                while (mothernode.hasChildNodes()){
                    mothernode.removeChild(
                        mothernode.firstChild
                    );
                }

            }
            function deletecheck(){
               
                for(var i=0;i<500;i++){
                    if(document.getElementsByName("checkBox")[i].checked == true){
                        document.getElementsByName("deletediv")[i].remove();
                    }
                    

                 }
                

            }
            function checkAll(){
	         if(document.getElementById("all").checked==true){  //id 를 사용하여 하나의 객체만을 호출
	         for(var i=0;i<500;i++) 
             document.getElementsByName("checkBox")[i].checked=true; 
             document.querySelector("all").value = "전체해제";                       
	         }
	          if(document.getElementById("all").checked==false){
	         for(var i=0;i<500;i++) document.getElementsByName("checkBox")[i].checked=false;  
             document.querySelector('#all').value = '전체선택'; 
	         }
	}
    
            function writelist(){
              var newlist = "<div class='list' name='deletediv'><input type='checkbox' name='checkBox' id=A"+i+">" + document.getElementById('inputpanel').value + "<button onclick='correctioncheck(); ' >수정</button> <button onclick='deletecheck()'>삭제</button></div>";
            document.getElementById('here').innerHTML = document.getElementById('here').innerHTML+newlist ; 
            i = i+1;
            }
       </script>
    </head>
        <center><h1>To Do List</h1></center>
    <body>
        <div class ='container' >
            
                <center><input type="text" placeholder="할일을 입력하세요" id="inputpanel"> 
                        <button onclick="writelist()">저장</button></center>
            
        </div>

    <div class ="container" id="repository">
        <div id="here">
   
            
            
        </div>
            
    </div>     
<br>
<br>
<br>

        
           <P  align ="right"><input type="checkbox" id="all" name="all" onclick="checkAll()">전체 선택/해제
                  <button onclick="deleteall()">전체삭제</button>
                  <button onclick="deletecheck()">선택삭제</button></P>
    
    </body>

    <footer>
   
    </footer>

</html>